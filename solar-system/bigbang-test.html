<!DOCTYPE html>
<html>
<head>
    <title>Big Bang Test</title>
    <style>
        body { margin: 0; overflow: hidden; background: black; }
        canvas { width: 100%; height: 100% }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer;
        let explosionMesh, explosionLight;
        let particles = [];
        let time = 0;

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // Create initial explosion sphere
            const geometry = new THREE.SphereGeometry(0.1, 32, 32);
            const material = new THREE.MeshBasicMaterial({
                color: 0xffffff,
                transparent: true,
                opacity: 1
            });
            explosionMesh = new THREE.Mesh(geometry, material);
            scene.add(explosionMesh);

            // Add intense light at explosion center
            explosionLight = new THREE.PointLight(0xffffff, 100, 50);
            scene.add(explosionLight);

            // Create particle burst
            for (let i = 0; i < 10000; i++) {
                createExplosionParticle();
            }

            camera.position.z = 20;
            animate();

            // Add violent camera shake
            function shakeCamera() {
                if (time < 2) {
                    const intensity = 2 * (1 - time/2);
                    camera.position.x = 20 + (Math.random() - 0.5) * intensity;
                    camera.position.y = (Math.random() - 0.5) * intensity;
                    camera.position.z = 20 + (Math.random() - 0.5) * intensity;
                    requestAnimationFrame(shakeCamera);
                }
            }
            shakeCamera();
        }

        function createExplosionParticle() {
            const geometry = new THREE.SphereGeometry(0.02, 8, 8);
            const material = new THREE.MeshBasicMaterial({
                color: new THREE.Color().setHSL(Math.random() * 0.1, 1, 0.5 + Math.random() * 0.5),
                transparent: true,
                opacity: 1
            });
            const particle = new THREE.Mesh(geometry, material);
            
            // Start at center
            particle.position.set(0, 0, 0);
            
            // Random explosion velocity
            const theta = Math.random() * Math.PI * 2;
            const phi = Math.random() * Math.PI;
            const speed = Math.random() * 2 + 1;
            particle.velocity = new THREE.Vector3(
                Math.sin(phi) * Math.cos(theta) * speed,
                Math.sin(phi) * Math.sin(theta) * speed,
                Math.cos(phi) * speed
            );
            
            scene.add(particle);
            particles.push(particle);
        }

        function animate() {
            requestAnimationFrame(animate);
            time += 0.016; // Approximately 60 FPS

            // Update explosion core
            if (explosionMesh.scale.x < 10) {
                explosionMesh.scale.multiplyScalar(1.1);
                explosionMesh.material.opacity *= 0.95;
            }

            // Update explosion light
            explosionLight.intensity *= 0.95;

            // Update particles
            particles.forEach(particle => {
                particle.position.add(particle.velocity);
                particle.velocity.multiplyScalar(0.98); // Slow down
                particle.material.opacity *= 0.98; // Fade out
                particle.scale.multiplyScalar(0.995); // Shrink
            });

            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        init();
    </script>
</body>
</html>
